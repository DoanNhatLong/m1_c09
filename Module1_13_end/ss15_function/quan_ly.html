<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>quan_ly</title>
    <link rel="stylesheet" href="../bootstrap-5.3.8-dist/css/bootstrap.css">
    <script src="../bootstrap-5.3.8-dist/js/bootstrap.bundle.js"></script>
</head>
<style>
    button {
        background-color: greenyellow;
        color: black;
    }

</style>

<body>
<main>
    <h2> Add New Product</h2>
    <div>
        <input type="text" name="" id="input">
        <button onclick="add()">Add</button>
    </div>


    <h2> Display All Product</h2>


    <div>
        <input id="find">
        <button onclick="findProduct()"> Search</button>
    </div>
    <br><br>
    <div id="table">

    </div>
</main>

<script>
    let array = ['Sony Xperia', 'Samsung Galaxy', 'Nokia 6', 'Xiaomi Redmi', 'Appe Iphone', 'Xiaomi 5s', 'Appe iPhone 8', 'Fujitsu F-04E', 'Oppo A71', 'Zen', 'Vivo'];

    table(array);

    function edit(i) {
        array[i] = prompt("Bạn muốn sửa thành gì:");
        table(array)
    }

    function deleteTable(i) {
        if (confirm("Bạn có muốn xóa thật không ?")) {
            array.splice(i, 1);
            table(array);
        }
    }

    function table(array) {
        let length = array.length;
        let product =
            `
                       <table border="1" style="border-collapse: collapse"  >
                        <th colspan="3"> <span>Product Name</span>
                       <span >${length} Product</span> </th>`;
        for (let i = 0; i < length; i++) {
            product += (`<tr>
                  <td>  ${array[i]} </td>
                  <td><button onclick="edit(${i})">Edit</button> </td>
                  <td> <button onclick="deleteTable(${i})">Delete</button> </td>
             </tr>`);
        }
        product += `</table>`;
        document.getElementById("table").innerHTML = product;
    }

    function add() {
        let addProduct = document.getElementById("input").value;
        if (addProduct !== "") {
            array.unshift(addProduct);
            table(array);
        }
    }

    function findProduct() {
        let find = document.getElementById("find").value;
        let arrayFind = array.filter(element => element.includes(find));
        table(arrayFind);
    }

    function pageProduct(list) {
        let [...newArray] = array;
        let arrayPage=newArray.splice(5*list,5)
        table(arrayPage);
    }

</script>

<div>
    <button onclick="pageProduct(0)"> 1</button>
    <button onclick="pageProduct(1)"> 2</button>
    <button onclick="pageProduct(2)"> 3</button>
</div>
</body>
</html>