<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id="display">

</div>

<button onclick="addProduct()">Mua vé</button>
<button onclick="watchResult()">Xem kết quả</button>
<br>
<script>

    class Ticket {
        constructor(number) {
            this.ticket = number;
        }
    }

    let numberList = [];

    function addProduct() {
        let choose = +prompt(` Bạn có 2 lựa chọn:
            1. Bạn muốn chọn số
            2. Hệ thống tự random
            `)
        if (choose === 1) {
            const value = [document.getElementById("number1").value,
                document.getElementById("number2").value,
                document.getElementById("number3").value,
                document.getElementById("number4").value,
                document.getElementById("number5").value,
                document.getElementById("number6").value]
            for (let i = 0; i < value.length; i++) {
                if (value[i] === "" || isNaN(value[i]) || value[i] < 0 || value[i] % 1 !== 0 || value[i] > 99) {
                    alert("Vui lòng nhập số nguyên nhỏ hơn 100");
                    return;
                }
            }
            numberList.push(new Ticket(value));
            render();
        }
        if (choose === 2) {
            const number = createRandom();
            numberList.push(new Ticket(number));
            render();
        }
    }

    function render() {
        let display = `<input type="number" id="number1"/>
            <input type="number" id="number2"/>
            <input type="number" id="number3"/>
            <input type="number" id="number4"/>
            <input type="number" id="number5"/>
            <input type="number" id="number6"/>`
        for (let i = 0; i < numberList.length; i++) {
            display += `
            <div>
                <input type="number" disabled placeholder="${numberList[i].ticket[0]}"  >
                <input type="number" disabled placeholder="${numberList[i].ticket[1]}"  >
                 <input type="number" disabled placeholder="${numberList[i].ticket[2]}"  >
                    <input type="number" disabled placeholder="${numberList[i].ticket[3]}" >
                <input type="number" disabled placeholder="${numberList[i].ticket[4]}" >
                    <input type="number" disabled placeholder="${numberList[i].ticket[5]}" >
</div>`
        }
        document.getElementById("display").innerHTML = display;
    }

    function watchResult() {
        const result = createRandom();
        let win = 3;
        for (let i = 0; i < numberList.length; i++) {
            for (let j = 5; j >= 3; j--) {
                if (numberList[i].ticket[j] !== result[j]) {
                    win = 0;
                    break;
                }
            }
            if (win !== 0) {
                for (let j = 2; j > 0; j--) {
                    if ((numberList[i].ticket[j] !== result[j])) {
                        win = 1;
                        break;
                    } else if (numberList[i].ticket[0] !== result[0]) {
                        win = 2;
                    }
                }
            }
        }
        switch (win) {
            case 0:
                alert("Chúc bạn may mắn lần sau");
                break;
            case 1:
                alert("Trúng giải khuyến khích");
                break;
            case 2:
                alert("Trung giải nhì");
                break;
            case 3:
                alert("Trúng giải đặc biệt");
                break;
        }
    }

    function createRandom() {
        const result = [];
        result.push(Math.floor(Math.random() * 100));
        result.push(Math.floor(Math.random() * 100));
        result.push(Math.floor(Math.random() * 100));
        result.push(Math.floor(Math.random() * 100));
        result.push(Math.floor(Math.random() * 100));
        result.push(Math.floor(Math.random() * 100));
        return result;
    }

    render();
</script>
</body>
</html>